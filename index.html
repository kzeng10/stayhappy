<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Hello React!</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.7/socket.io.min.js"></script>
  </head>
  <body>
    <script>
    socket = io();
      window.fbAsyncInit = function() {
        FB.init({
          appId      : '469790279875697',
          xfbml      : true,
          version    : 'v2.5',
          status     : true
        });
        FB.login(function(){}, {scope: 'user_photos,user_posts'});
      };

      (function(d, s, id){
         var js, fjs = d.getElementsByTagName(s)[0];
         if (d.getElementById(id)) {return;}
         js = d.createElement(s); js.id = id;
         js.src = "//connect.facebook.net/en_US/sdk/debug.js";
         fjs.parentNode.insertBefore(js, fjs);
       }(document, 'script', 'facebook-jssdk'));

      function getPhotos() {
        FB.api(
          "/me/photos",
          function (response) {
            if (response && !response.error) {
              printSentiment(response.data[5].id);
            }
          }
        );
      }

      function printSentiment(id) {
        FB.api(
          "/"+id+"?fields=source",
          function (response) {
            if (response && !response.error) {
              console.log(response);
              socket.emit('url', response.source);
            }
          }
        );
      }
    </script>
    <button onclick="getPhotos()">Get Photos</button>

    <div id="main"></div>
  </body>

  <script type="text/javascript" src="dist/app.js"></script>
</html>
